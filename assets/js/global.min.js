var g={report:function(){console.log('userIP',g.userIP),console.log('lastSearchLocal.get()',g.lastSearchLocal.get()),console.log('apiCheck',g.apiCheck),console.log('totalResultCount',g.totalResultCount),console.log('allResults',g.allResults),console.log('companyTally',g.companyTally),console.log('locationTally',g.locationTally),console.log('filter.atlas',g.filter.atlas),console.log('atlasCleared',g.atlasCleared),console.log('atlasSorted',g.atlasSorted)},allRawData:[],allResults:[],allResultsStr:[],allSaved:[],partData:[],companyList:[],companyTally:[],companyCounter:[],locationList:[],locationTally:[],locationCounter:[],companyLocationList:[],googleMaps_latLng:[],printFrom:'allResults',totalResultCount:0,page:1,lastPage:1,itemsPerPage:20,resultNumber:1,userIP:'',getIP:$.getJSON('https://jsonip.com/?callback=?',function(f){g.userIP=f.ip,console.log('jobba.userIP',g.userIP)}),geolocation:{location:'',userTrigger:$('#location-icon').on('click',function(f){f.preventDefault(),$(this).addClass('active'),g.geolocation.get(),ll}),removeTrigger:$('#q-city').on('keyup',function(f){f.preventDefault();var h=$('#q-city').val().trim();h!=g.geolocation.location&&$('#location-icon').removeClass('active')}),isSupported:function(){return navigator.geolocation?(console.log('supported'),!0):(console.log('Geolocation is not supported for this Browser/OS.'),!1)},get:function(){if(!1===g.geolocation.isSupported)return Materialize.toast('Enter a location',4e3),$('#q-city').css('border-style','solid'),$('#q-city').css('border-width','2px'),void $('#q-city').css('border-color','red');var f;navigator.geolocation.getCurrentPosition(function(m){f=m,console.log('startPos.coords.latitude',f.coords.latitude),console.log('startPos.coords.longitude',f.coords.longitude);var o=f.coords.latitude+','+f.coords.longitude;console.log('latlng',o),g.geolocation.convert(o)},function(m){return console.log('Error occurred. Error code: '+m.code),Materialize.toast('Enter a location',4e3),$('#q-city').css('border-style','solid'),$('#q-city').css('border-width','2px'),void $('#q-city').css('border-color','red')},{maximumAge:300000,timeout:10000})},convert:function(f){$.ajax({type:'GET',url:'https://maps.googleapis.com/maps/api/geocode/json?latlng='+f+'&location_type='+'APPROXIMATE'+'&result_type='+'locality'+'&key=AIzaSyBB1s2bgxqg4sMi9_1HJoZ-OV7ZzRnsYP4'}).done(function(m){var o=m.results[0].formatted_address;g.geolocation.location=o,console.log('a',o),$('#q-city').val(o),$('#location-icon').addClass('active');0===$('#search').val().trim().length||g.submitCheck()})}},map:{el:'',fx:function(){g.map.el=new google.maps.Map(document.getElementById('map'),{zoom:2,center:new google.maps.LatLng(2.8,-187.3),mapTypeId:'roadmap'});var h=document.createElement('script');h.src='https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js',document.getElementsByTagName('head')[0].appendChild(h)}},lastSearchLocal:{save:function(f,h){if(''!=f&&''!=h){var j={q:f,city:h},l=JSON.stringify(j);localStorage.setItem('lastSearch',l),$('#last-search').show(),$('#last-search-q').text(j.q),$('#last-search-city').text(j.city)}},get:function(){var f=localStorage.getItem('lastSearch');return f?($('#last-search').show(),f):void $('#last-search').hide()},print:function(){var f=g.lastSearchLocal.get();if(f){var h=JSON.parse(f);$('#last-search-q').text(h.q),$('#last-search-city').text(h.city)}else return},listener:$('#last-search-trigger').on('click',function(f){f.preventDefault();var h=$('#last-search-q').text(),j=$('#last-search-city').text();$('#search').val(h),$('#q-city').val(j),g.submit()})},apiStatus:['processing','processing','processing','processing'],apiCheckpoint:'processing',apiCheck:0,apisRunning:!1,prevCheck:0,sortDateNewest:function(){var f=g.allResults,h=g.atlasCleared,j=h.map(function(l){var m=f[l],o=moment().diff(moment(m.date,'MMM D YY'),'days');return{age:o,clearedID:l}}).sort(function(l,m){return l.age-m.age}).map(function(l){return l.clearedID});console.log('sorted',j),g.atlasSorted=j},toast:function(f){Materialize.toast(f,2e3)},atlasCleared:[],atlasSorted:[],filter:{atlas:{source:[],terms:[],age:[],distance:[],location:[],company:[]},atlasInit:function(){var f=g.filter.atlas;f.source=f.terms=f.age=f.distance=f.location=f.company=[];for(var h=0;h<g.totalResultCount;h++)g.atlasCleared.push(h);g.filter.byLocation.init(),g.filter.byCompany.init()},byTerms:{whiteList:[],blackList:[],trigger:$('.filterTermInput').on('keyup',function(f){f.preventDefault();var h=f.keyCode,j,l;if(13===h){var o=$(this).attr('id');'includeTerms'===o?(j=g.filter.byTerms.whiteList,l='#whiteList'):(j=g.filter.byTerms.blackList,l='#blackList');var p=$(this).val().trim();j.push(p),$(this).val('');var s=$('<div>').addClass('chip'),t=$('<i>').addClass('close material-icons').text('close');s.text(p),s.attr('data-term',p),s.append(t),$(l).append(s),g.filter.byTerms.fx(g.filter.byTerms.whiteList,g.filter.byTerms.blackList)}}),removal:$('.chip-bag').on('click','.close',function(f){f.preventDefault();var h=$(this),j=h.parent('.chip').attr('data-term'),l=h.parents('.chip-bag').attr('id'),m;'blackList'===l?(m=g.filter.byTerms.blackList,g.filter.byTerms.blackList=m.filter(function(o){return o!==j})):'whiteList'===l&&(m=g.filter.byTerms.whiteList,g.filter.byTerms.whiteList=m.filter(function(o){return o!==j})),h.parent('.chip').remove(),g.filter.byTerms.fx(g.filter.byTerms.whiteList,g.filter.byTerms.blackList)}),fx:function(f,h){console.log('blacklist',h),console.log('whitelist',f);var j=g.allResults,l=j.filter(function(o){var p=o.title.toUpperCase(),s=h.map(function(y){y=y.toUpperCase().trim();var z=p.includes(y);return z}),t=f.map(function(y){y=y.toUpperCase().trim();var z=p.includes(y);return z}),u=s.indexOf(!0),w=t.indexOf(!1);return-1!==u&&-1!==w}),m=l.map(function(o){return o.id});g.filter.byTerms.whiteList=f,g.filter.byTerms.blackList=h,g.partData=l,g.filter.export(),g.filter.atlas.terms=m}},bySource:{event:$('#filter-source').on('change','.filterSourceInput',function(f){f.preventDefault(),console.log('bysource');var h=$(this);h.toggleClass('data-hide');var l=[];$('.filterSourceInput.data-hide').each(function(){var m=$(this).attr('value');l.push(m)}),console.log('sourceHidden',l),g.filter.bySource.fx(l)}),fx:function(f){var h=g.allResults,j=h.filter(function(m){var o=f.indexOf(m.source);return-1!==o}),l=j.map(function(m){return m.id});g.filter.atlas.source=l,console.log('source atlas',l),g.filter.export()}},byLocation:{event:$('#filter-location').on('change','.filterLocationInput',function(f){f.preventDefault();var h=$(this);h.toggleClass('data-hide');var j=[];$('.filterLocationInput.data-hide').each(function(){var l=$(this).attr('value');j.push(l)}),g.filter.byLocation.fx(j)}),processor:function(f){var h=f.location,j=h.split(','),l=j[0].trim().toLowerCase(),m=g.locationList.indexOf(l);if(-1===m){g.locationList.push(l),g.locationTally.push({name:l,tally:1});g.locationCounter.push([l,1])}else{var s=g.locationTally[m],t=s.tally;g.locationTally[m].tally=t+1;var t=g.locationCounter[m][1];g.locationCounter[m][1]=t+1}},init:function(){var f=g.locationTally;console.log('tally',f);var h=f.sort(function(C,D){return D.tally-C.tally});console.log('locSorted',h),g.locationTally=h;var j=$('#filter-location'),l=8,m=$('<div>');m.addClass('below-fold');for(var o=0;o<h.length;o++){var p=h[o].name,s=p.replace(/\s/g,''),t='loc-'+o,u=h[o].tally,w=p+' ('+u+')';console.log('str',w);var y=$('<li>');y.addClass('input-field');var z=$('<input>');z.addClass('filterLocationInput filterInput filled-in'),z.attr({type:'checkbox',name:'filterLocation',value:p,'data-select':!0,checked:'checked',id:t});var A=$('<label>');A.attr('for',t),A.text(w),y.append(z),y.append(A),o<=l-1?$('#filter-location').append(y):m.append(y)}if(j.append(m),h.length>l){var B=$('<span>');B.addClass('show-more-btn'),B.text('Show more...'),B.on('click',function(C){C.preventDefault();var D=$(this).parent('.overflow-wrap'),E=D.hasClass('overflow-hidden');E?(D.removeClass('overflow-hidden'),$(this).text('Show fewer...')):(D.addClass('overflow-hidden'),$(this).text('Show more...'))}),j.append(B),j.addClass('filter-listener overflow-hidden overflow-wrap'),$('#locationFilters .sideNavForm').append(j)}},fx:function(f){var h=g.allResults,j=h.filter(function(m){var o=m.location.split(','),p=o[0].trim().toLowerCase(),s=f.indexOf(p);return-1!==s}),l=j.map(function(m){return m.id});g.filter.atlas.location=l,g.filter.export()}},byCompany:{event:$('#filter-company').on('change','.filterCompanyInput',function(f){f.preventDefault();var h=$(this);h.toggleClass('data-hide');var j=[];$('.filterCompanyInput.data-hide').each(function(){var l=$(this).attr('value');j.push(l)}),g.filter.byCompany.fx(j)}),processor:function(f){var h=f.company,j=g.companyList.indexOf(h);if(-1===j)g.companyList.push(h),g.companyTally.push({name:h,tally:1});else{var m=g.companyTally[j],o=m.tally;g.companyTally[j].tally=o+1}},init:function(){var f=g.companyTally;console.log('tally',f);var h=f.sort(function(C,D){return D.tally-C.tally});console.log('compSorted',h),g.companyTally=h;var j=$('#filter-company'),l=8,m=$('<div>');m.addClass('below-fold');for(var o=0;o<h.length;o++){var p=h[o].name,s=p.replace(/\s/g,''),t='comp-'+o,u=h[o].tally,w=p+' ('+u+')';console.log('str',w);var y=$('<li>');y.addClass('input-field');var z=$('<input>');z.addClass('filterCompanyInput filterInput filled-in'),z.attr({type:'checkbox',name:'filterCompany',value:p,'data-select':!0,checked:'checked',id:t});var A=$('<label>');A.attr('for',t),A.text(w),y.append(z),y.append(A),o<=l-1?j.append(y):m.append(y)}if(j.append(m),h.length>l){var B=$('<span>');B.addClass('show-more-btn'),B.text('Show more...'),B.on('click',function(C){C.preventDefault();var D=$(this).parent('.overflow-wrap'),E=D.hasClass('overflow-hidden');E?(D.removeClass('overflow-hidden'),$(this).text('Show fewer...')):(D.addClass('overflow-hidden'),$(this).text('Show more...'))}),j.append(B)}j.addClass('overflow-hidden overflow-wrap')},fx:function(f){var h=g.allResults,j=h.filter(function(m){var o=m.company,p=f.indexOf(o);return-1!==p}),l=j.map(function(m){return m.id});g.filter.atlas.company=l,g.filter.export()}},byAge:{event:$('#dateFilters').on('click','.sideNavForm a',function(f){f.preventDefault();var h=parseInt($(this).attr('data-age'));g.filter.byAge.fx(h)}),fx:function(f){var h=g.allResults,j=h.filter(function(m){var o=m.date,p=moment().diff(moment(o,'MMM-DD YY'),'days');return p>f}),l=j.map(function(m){return m.id});g.filter.atlas.age=l,g.filter.export()}},export:function(){console.log('g.filter.atlas',g.filter.atlas);var f=[],h=g.filter.atlas;$.each(h,function(l,m){var o=m.length,p=m.filter(function(s){var t=f.indexOf(s);return-1===t});f=f.concat(p)}),console.log('combined',f);var j=g.allResults.filter(function(l){var m=l.id,o=f.indexOf(m);return-1===o});g.atlasCleared=j.map(function(l){return l.id}),console.log('g.atlasCleared',g.atlasCleared),g.sortDateNewest(),g.atlasCleared.length===g.totalResultCount&&g.toast('The filters did not remove any results. Showing all results'),$('#result-count').text(g.atlasCleared.length),g.paginationSet()}},checkStatus:function(){var f=g.prevCheck,h=g.apiCheck;if(h>f&&100>h){var j=100*(g.apiCheck/5);$('.progress-target').animate({width:j+10+'%'},500),$('.progress-bar').animate({width:j+'%'},500)}else 100<=h&&$('.progress-bar','.progress-target').css('width','0%');g.prevCheck=g.apiCheck,5===g.apiCheck&&(console.log('all apis done'),g.apisRunning=!1,$('html').removeClass('do-not-disturb'),$('#progress-wrap').hide(),$('.progress-target').css('width','0%'),g.filter.atlasInit(),g.sortDateNewest(),Materialize.toast(g.totalResultCount+' job listings found!',4e3),g.beginPrint())},getItemsPerPage:$('#per-page-options').on('click','.pagination-num-opt',function(f){f.preventDefault(),g.itemsPerPage=parseInt($(this).text()),g.paginationSet()}),menuSelectionListener:$('.horizontal-options').on('click','a',function(f){f.preventDefault(),$('.horizontal-options .selected').removeClass('selected'),$(this).parent('li').addClass('selected')}),dedup:function(){return null},firebaseCount:function(f){$.ajax({type:'GET',url:'https://jobba-fe187.firebaseio.com/'+f+'/.json?shallow=true'}).done(function(h){var j=Object.keys(h).length;return console.log('n',j),j})},writeToFirebaseArchive:function(f){var h=firebase.database(),j=f.source,l=f.sourceID,m=j.replace(/\s/g,'')+'='+l,o=h.ref('allArchive/data');o.once('value').then(function(p){var s=p.child(m).exists();!1===s&&o.child(m).set(f)}),h.ref('allArchive/guide').once('value').then(function(p){var s=p.child(m).exists();if(!1===s){var t=g.dedup(f);if(null===t){var u=h.ref('allArchive/unique'),w=u.push();w.set(f);var y=w.key;h.ref('allArchive/guide/'+m).set(y)}else;}})},getSaves:function(){},printManager:function(f){g.allResultsStr.push(f);var h=JSON.parse(f);h.index=g.totalResultCount,h.id=g.totalResultCount,g.allResults.push(h),g.writeToFirebaseArchive(h),g.totalResultCount++,$('#result-count').text(g.totalResultCount),g.filter.byCompany.processor(h),g.filter.byLocation.processor(h),g.checkStatus(),5===g.apiCheck},beginPrint:function(){$('.landing').removeClass('landing'),$('html').addClass('feed-printed'),g.paginationSet()},paginationHandler:$('.pagination').on('click','.pg-control',function(f){if(f.preventDefault(),!0!==$(this).hasClass('disabled')){var h;firebase.auth().onAuthStateChanged(function(p){p&&(h=firebase.auth().currentUser.uid,'undefined'!==h&&$('.save-wrap').css('visibility','visible'))});var j=$('.pagination').find('.active'),l=parseInt(j.text());j.removeClass('active');var m=$(this),o=parseInt(m.attr('data-pg'));0===o&&(o=l-1),-1===o&&(o=l+1),$('#pg-prev, #pg-next').removeClass('disabled'),1===o&&$('#pg-prev').addClass('disabled'),o===g.lastPage&&$('#pg-next').addClass('disabled'),m=$('.pg-control[data-pg="'+o+'"]'),m.addClass('active'),g.page=o,g.pagination()}}),paginationSet:function(){var f,h;if(h=g.atlasCleared.length,0===h)return $('html').addClass('no-results'),void console.log('No Results to Show');$('html').removeClass('no-results'),f=parseInt(h/g.itemsPerPage);var j=h%g.itemsPerPage;0!=j&&f++,g.lastPage=f,$('#pg-control-wrap').empty();for(var m,l=1;l<=f;l++){m=$('<li>'),m.addClass('pg-control waves-effect'),m.attr('data-pg',l),1===l&&m.addClass('active');var o=$('<a>');o.attr('href','#!'),o.text(l),m.html(o),$('#pg-control-wrap').append(m)}g.page=1,g.pagination()},pagination:function(){var f=(g.page-1)*g.itemsPerPage,h=g.page*g.itemsPerPage,j=g.atlasCleared.length;h>=j&&(h=j);var l=f+1+'-'+h;$('#page-range').text(l),$('#feed').empty(),g.companyLocationList=[];for(var m=g.atlasSorted,o=f;o<h;o++){g.resultNumber=o+1;var p=m[o],s=g.allResults[p];g.print(s)}g.ajax_for_googleMaps(),g.markTerms()},print:function(f){var B,h=f,j=h.title,l=h.jobPosition,m=h.company,o=h.location,p=h.date,s=h.source,t=h.sourceID,u=h.description,w=h.url,y=h.index;g.companyLocationList.push(m+' '+o);var D=s.replace(/\s/g,'')+'='+t;if(g.allSaved=sessionStorage.getItem('allJobs'),null!==g.allSaved){var E=g.allSaved.indexOf(D);B=-1!==E}var F=moment().diff(moment(p,'MMM DD YY'),'days'),H=$('<li>');H.addClass('listing'),H.attr('data-index',y),H.attr('data-company',m),H.attr('data-source',s),H.attr('data-source-id',D);var I=$('<div>');I.addClass('collapsible-header');var J=$('<div>');J.addClass('collapsible-body');var K=$('<span>');K.addClass('listing-number ghost'),K.text(g.resultNumber);var L=$('<h2>');L.addClass('headline'),L.text(j);var M=$('<h3>');M.addClass('subheadline');var N=$('<span>');N.addClass('company'),N.text(m);var O=$('<span>');O.addClass('location'),O.text(o);var P=$('<span>');P.addClass('date'),P.text(F+'d'),M.append(N),M.append(O),M.append(P);var Q=$('<span>');Q.addClass('save-wrap ghost'),!0===B?(Q.attr('data-saved','true'),Q.addClass('saved')):Q.attr('data-saved','false');var R=$('<p>');R.addClass('meta-detail'),R.addClass('company'),R.text(m);var S=$('<p>');S.addClass('meta-detail'),S.addClass('location'),S.text(o);var T=$('<p>');T.addClass('meta-detail'),T.addClass('date'),T.text(p);var U=$('<p>');U.addClass('meta-detail'),U.addClass('source sourceURL');var V=$('<a>');if(V.attr('href',w),V.attr('target','_blank'),V.attr('alt','View this job listing on the original site'),V.text(s),U.append(V),J.append(R),J.append(S),J.append(T),J.append(U),'Dice'!=s){var W=$('<div>');W.addClass('meta-detail description'),W.html(u),J.append($('<p>').addClass('meta-detail description-label')),J.append(W)}I.append(K),I.append(L),I.append(M),H.append(I),H.append(Q),H.append(J),$('#feed').append(H)},ajax_for_googleMaps:function(){var f={};g.googleMaps_latLng=[];for(var j,h=0;h<g.companyLocationList.length;h++)j='https://cors.now.sh/https://maps.googleapis.com/maps/api/place/textsearch/json?key=AIzaSyAMi4D8mMbs7bI7lFkxo7dmlwpR0yRGrJA&query='+encodeURIComponent(g.companyLocationList[h]),$.ajax({type:'GET',url:j}).done(function(l){console.log('THE RESULT IS:::: '+l);var m=JSON.parse(JSON.stringify(l));console.log('TITLE ==== ',m),'You have exceeded your daily request quota for this API.'!==l.error_message&&(f={title:l.results[0].name,lat:l.results[0].geometry.location.lat,lng:l.results[0].geometry.location.lng},g.googleMaps_latLng.push(f),localStorage.setItem('companyLocationList',JSON.stringify(g.googleMaps_latLng)))}).fail(function(l){console.log('fail',l.code)})},markTerms:function(){var f=$('#search').val().split(' ');$('.meta-detail.description').mark(f),0!==g.filter.byTerms.whiteList.length&&$('.listing').mark(g.filter.byTerms.whiteList)},reset:function(){g.apiCheck=0,g.totalResultCount=0,g.apiStatus=['processing','processing','processing','processing','processing'],g.allResultsStr=[],g.allResults=[],g.companyList=[],g.locationList=[],g.companyCounts={},g.locationCounts={},$('.pagination').find('.active').removeClass('active'),$('.pagination li:nth-child(2)').addClass('active'),g.page=1},scrollToTop:$('#scroll-to-top').on('click',function(f){f.preventDefault(),$(window).scrollTop(0)}),submitHandler:$('#submit').on('click',function(f){f.preventDefault(),g.submitCheck()}),submitCheck:function(){console.log('submitCheck'),g.reset();var f=$('#search').val(),h=$('#q-city').val().trim();return(console.log('city',h),''===h)?void g.geolocation.get():void($('#q-city').css('outline','none'),$('#q-city').css('border-width','0px'),$('#q-city').css('border-color','none'),g.submit())},submit:function(){if(console.log('submit'),''===$('#q-city').val().trim())alert('City empty');else{if(!0===g.apisRunning)return;g.apisRunning=!0;var f=$('#search').val(),h=$('#q-city').val().trim();$('html').addClass('do-not-disturb'),g.analysis.salary.ajax(f);var j=g.api.github.createURL(f,h,'','10');g.api.github.ajaxCall(j,g.api.github.getResponse);var l=g.api.indeed.createURL(f,h,'','50');g.api.indeed.ajaxCall(l,g.api.indeed.getResponse);var m=g.api.dice.createURL(f,'',h,'','','');g.api.dice.ajaxCall(m,g.api.dice.getResponse);var o=g.api.authentic.createURL(f,'',h,'','100');g.api.authentic.ajaxCall(o,g.api.authentic.getResponse);var p=g.api.linkup.createURL(f,h,'','100');g.api.linkup.ajaxCall(p,g.api.linkup.getResponse),g.lastSearchLocal.save(f,h),console.log('q',f),console.log('city',h)}},analysis:{salary:{ajax:function(f){var h=g.userIP;$.ajax({type:'GET',url:'https://cors-anywhere.herokuapp.com/https://api.glassdoor.com/api/api.htm?t.p=151095&t.k=dSWk91gUjq3&userip='+h+'&useragent=&format=json&v=1&action=jobs-prog&countryId=1&jobTitle='+f}).done(function(m){var o=m.response,p=o.jobTitle,s=o.payHigh,t=o.payLow,u=o.payMedian;console.log('Glassdoor done',m),$('.job-position-target').text(p)}).fail(function(){console.log('fail'),g.api.ajaxError})}}},api:{timeout:5e3,ajaxError:function(){console.log('apiError'),g.apiCheck++,g.checkStatus(),console.log('g.apiCheck',g.apiCheck)},github:{url:'',status:'processing',apiIndex:0,createURL:function(f,h){var m='https://cors.now.sh/https://jobs.github.com/positions.json?';return''!=f&&(f=encodeURIComponent(f),m=m+'&description='+f),''==h?(h='la',m=m+'&location='+h):(h=encodeURIComponent(h),m=m+'&location='+h),m+='&full_time=true',g.api.github.url=m,m},getResponse:function(f){var h=f;console.log('github success'),console.log('Github jobsResults',h);for(var l,j=0;j<h.length;j++){l=h[j],g.allRawData.push(l);var m=l.location.trim(),o={title:l.title,jobPosition:l.title,company:l.company,location:m,date:moment(l.created_at).format('MMM D YY'),source:'Github',sourceID:l.id,description:l.description,url:l.url,applyURL:l.url,type:l.type,company_url:l.company_url,company_logo:l.company_logo},p=JSON.stringify(o);g.printManager(p)}g.apiCheck++,g.checkStatus();var s=g.api.github.apiIndex;g.apiStatus[s]='done'},ajaxCall:function(f,h){$.ajax({type:'GET',url:f,timeout:g.api.timeout}).done(h).fail(g.api.ajaxError)}},indeed:{url:'',status:'processing',apiIndex:1,createURL:function(f,h,j,l){var m='https://cors.now.sh/https://api.indeed.com/ads/apisearch?publisher=422492215893931&sort=&radius=&st=&jt=&start=&fromage=&filter=&latlong=1&co=us&chnl=&userip=1.2.3.4&useragent=Chrome&v=2&format=json';return''!=f&&(f=encodeURIComponent(f),m=m+'&q='+f),''==h?(h='san+diego',m=m+'&l='+h):(h=encodeURIComponent(h),m=m+'&l='+h),''!=j&&(j=encodeURIComponent(j),m=m+'C+'+j),''!=l&&(l=encodeURIComponent(l),m=m+'&limit='+l),g.api.indeed.url=m,m},getResponse:function(f){var h=f.results;console.log('Indeed jobsResults',h);for(var l,j=0;j<h.length;j++){l=h[j],g.allRawData.push(l);var m={title:l.jobtitle,'jobPosition:':l.jobtitle,company:l.company,location:l.city,date:moment(l.date).format('MMM D YY'),source:'Indeed',sourceID:l.jobkey,description:l.snippet,url:l.url,applyURL:l.url,type:'N/A',company_url:'N/A',company_logo:'N/A'},o=JSON.stringify(m);g.printManager(o)}g.apiCheck++,g.checkStatus();var p=g.api.indeed.apiIndex;g.apiStatus[p]='done'},ajaxCall:function(f,h){$.ajax({type:'GET',url:f}).done(h).fail(g.api.ajaxError)}},dice:{url:'',status:'processing',apiIndex:2,createURL:function(f,h,j,l,m,o){var p='https://cors-anywhere.herokuapp.com/http://service.dice.com/api/rest/jobsearch/v1/simple.json?text=';if(''!=f&&(f=encodeURIComponent(f),p+=f),''!=h&&(h=encodeURIComponent(h),p=p+'&state='+h),''!=j){var s=j.split(',');2<s.length&&(j=s[0]+', '+s[1]),j=encodeURIComponent(j),p=p+'&city='+j}else j='san+diego,+CA',p=p+'&city='+j;return''!=l&&(l=encodeURIComponent(l),p=p+'&areacode='+l),''!=m&&(m=encodeURIComponent(m),p=p+'&page='+m),''!=o&&(o=encodeURIComponent(o),p=p+'&pgcnt='+o),g.api.dice.url=p,p},getResponse:function(f){var h=f.resultItemList;if(console.log('Dice jobsResults',h),!$.trim(h));else{for(var l,j=0;j<h.length;j++){l=h[j],g.allRawData.push(l);var m=l.detailUrl.slice(31),o=m.indexOf('?'),p=m.slice(0,o),s=p.replace(/[#/]/g,'_'),t={title:l.jobTitle,'jobPosition:':l.jobTitle,company:l.company,location:l.location,date:moment(l.date).format('MMM D YY'),source:'Dice',sourceID:s,description:'For job details, visit Dice\'s website.',url:l.detailUrl,applyURL:l.detailUrl,type:'N/A',company_url:'N/A',company_logo:'N/A'},u=JSON.stringify(t);g.printManager(u)}g.apiStatus[g.api.dice.apiIndex]='done',g.apiCheck++,g.checkStatus();var w=g.api.dice.apiIndex;g.apiStatus[w]='done'}},ajaxCall:function(f,h){$.ajax({type:'GET',url:f,timeout:g.api.timeout}).done(h).fail(g.api.ajaxError)}},authentic:{url:'',status:'processing',apiIndex:3,createURL:function(f,h,j,l,m){var o='https://cors.now.sh/https://authenticjobs.com/api/?api_key=fb7dee3fcbf41f8c7d867402491d81cb&method=aj.jobs.search&format=json';if(''!=f&&(f=encodeURIComponent(f),o=o+'&keywords='+f),''!=h&&(h=encodeURIComponent(h),o=o+'&location='+h),''!=j){var p=j.split(',');2<p.length&&(j=p[0]),j=encodeURIComponent(j),o=o+'&location='+j}else j='san+diego',o=o+'&location='+j;return''!=l&&(l=encodeURIComponent(l),o=o+'&page='+l),''!=m&&(m=encodeURIComponent(m),o=o+'&perpage='+m),g.api.authentic.url=o,o},getResponse:function(f){var h=f.listings.listing;console.log('Authentic jobsResults',h);for(var l,j=0;j<h.length;j++){l=h[j],g.allRawData.push(l);var m,o,p,s;if(o=m=p=s='N/A','undefined'!=typeof l.company){var t=l.company;o=t.name,'undefined'!=typeof t.location&&(m=t.location.name),'undefined'!=typeof t.url&&(p=t.url),'undefined'!=typeof t.logo&&(s=t.logo)}var u={title:l.title,'jobPosition:':l.title,company:o,location:m,date:moment(l.post_date).format('MMM D YY'),source:'Authentic Jobs',sourceID:l.id,description:l.description,url:l.url,applyURL:l.apply_url,type:l.type.name,companyURL:p,companyLogo:s},w=JSON.stringify(u);g.printManager(w)}g.apiCheck++,g.checkStatus();var y=g.api.authentic.apiIndex;g.apiStatus[y]='done'},ajaxCall:function(f,h){$.ajax({type:'GET',url:f}).done(h).fail(g.api.ajaxError)}},linkup:{url:'',status:'processing',apiIndex:4,createURL:function(h,j,l,m){var o='https://cors-anywhere.herokuapp.com/http://www.linkup.com/developers/v-1/search-handler.js?api_key=6681AB844790FB012488B9027B231749&embedded_search_key=b599c6a6e9b2178c2e673516252cad2a&';if(''!=h&&(h=encodeURIComponent(h),o=o+'&keyword='+h),''==j?(j='la',o=o+'&location='+j):(j=encodeURIComponent(j),o=o+'&location='+j),o+='&full_time=true',''!=m)return m=encodeURIComponent(m),o=o+'&limit='+m,o},getResponse:function(h){var j=h.jobs,l,m,o,p;console.log('linkup jobsResults',j);for(var s=0;s<j.length;s++){var t=j[s].job_title_link.slice(26,62),u=t.replace(/[#/]/g,'_');l=j[s].job_title,m=j[s].job_company,o=j[s].job_location,p=j[s].job_date_added;var w=moment(p).format('MMM D YY'),y={title:l,company:m,location:o,date:w,source:'LinkUp',sourceID:u,description:j[s].job_description,url:j[s].job_title_link},z=JSON.stringify(y);g.printManager(z)}g.apiCheck++,g.checkStatus();var A=g.api.linkup.apiIndex;g.apiStatus[A]='done'},ajaxCall:function(f,h){$.ajax({type:'GET',url:f}).done(h).fail(g.api.ajaxError)}}}};window.jobba=g;